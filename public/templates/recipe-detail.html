<div ng-controller="RecipeDetailController">
  <div class="grid-100 row controls">
    <div class="grid-50">
        <h2 ng-if="!recip.name">Add New Recipe</h2>
        <h2 ng-if="recip.name" ng-model="recip.name">{{recip.name}}</h2>
    </div>
    <div class="grid-50">
      <div class="flush-right">
        <button ng-click="saveRecipe()">Save Recipe</button>
        <button ng-click="toHome()" class="secondary">Cancel</button>
      </div>
    </div>
  </div>
  <div class="clear"></div>

  <div class="grid-100 row">
    <div class="grid-20">
      <p class="label-spacing">
        <label> Name </label>
      </p>
    </div>
    <div class="grid-40">
      <p>
        <input ng-model="recip.name" type="text">
      </p>
    </div>
  </div>
  <div class="clear"></div>

  <div class="grid-100 row">
    <div class="grid-20">
      <p class="label-spacing">
        <label> Description </label>
      </p>
    </div>
    <div class="grid-60">
      <p>
        <textarea ng-model="recip.description"></textarea>
      </p>
    </div>
  </div>
  <div class="clear"></div>

  <div class="grid-100 row">
    <div class="grid-20">
      <p class="label-spacing">
        <label> Category </label>
      </p>
    </div>
    <div class="grid-30">
      <p>
        <select ng-model="recip.category" 
        ng-options="category.name as category.name for category in categroies">
          <option value="">All Categories</option>
        </select>
      </p>
    </div>
  </div>
  <div class="clear"></div>

  <div class="grid-100 row">
    <div class="grid-20">
      <p class="label-spacing">
        <label> Prep Time </label>
      </p>
    </div>
    <div class="grid-20">
      <p>
        <input ng-model="recip.prepTime" type="number">
      </p>
    </div>
  </div>
  <div class="clear"></div>

  <div class="grid-100 row">
    <div class="grid-20">
      <p class="label-spacing">
        <label> Cook Time </label>
      </p>
    </div>
    <div class="grid-20">
      <p>
        <input ng-model="recip.cookTime" type="number">
      </p>
    </div>
  </div>
  <div class="clear"></div>

  <div class="grid-100 row">
    <div class="grid-20">
      <p class="label-spacing">
        <label> Ingredients </label>
      </p>
    </div>
    <div class="grid-30">
      <p class="label-spacing">
        <label> Item </label>
      </p>
    </div>
    <div class="grid-30">
      <p class="label-spacing">
        <label> Condition </label>
      </p>
    </div>
    <div class="grid-15">
      <p class="label-spacing">
        <label> Amount </label>
      </p>
    </div>

    <div ng-repeat="ingredient in recip.ingredients" class="ingredient-row">
      <div class="prefix-20 grid-30">
        <p>
          <select ng-model="ingredient.foodItem" 
          ng-options="foodItem.name as foodItem.name for foodItem in foodItems">
            <option value="">Select Item</option>
          </select>
        </p>
      </div>
      <div class="grid-30">
        <p>
          <input type="text" ng-model="ingredient.condition">
        </p>
      </div>
      <div class="grid-15">
        <p>
          <input type="text" ng-model="ingredient.amount">
        </p>
      </div>
      <div class="grid-5 pad-top">
        <p class="flush-right">
          <a ng-click="deleteIngredient($index)" class="no-action-link"> <img src="images/delete.svg" height="12px"> </a>
        </p>
      </div>
    </div>

    <div class="prefix-20 grid-80 add-row">
      <p>
        <button ng-click="addIngredient()">+ Add Another Ingredient</button>
      </p>
    </div>

  </div>
  <div class="clear"></div>

  <div class="grid-100 row">
    <div class="grid-20">
      <p class="label-spacing">
        <label> Steps </label>
      </p>
    </div>
    <div class="grid-75">
      <p class="label-spacing">
        <label> Description </label>
      </p>
    </div>

    <div ng-repeat="step in recip.steps" class="step-row">
      <div class="prefix-20 grid-75">
        <p>
          <input ng-model="step.description" type="text">
        </p>
      </div>
      <div class="grid-5 pad-top">
        <p class="flush-right">
          <a ng-click="deleteStep($index)" class="no-action-link"> <img src="images/delete.svg" height="12px"> </a>
        </p>
      </div>
    </div>

    <div class="prefix-20 grid-80 add-row">
      <p>
        <button ng-click="addStep()">+ Add Another Step</button>
      </p>
    </div>

  </div>
  <div class="clear"></div>
</div>